<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>FooZhi Blog  | Java 并发编程</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.1/css/bulma.min.css" />
    <link rel="stylesheet" href="http://localhost:59266/blog/css/blog.css" />

</head>
<body>


    <nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
        <div class="navbar-brand">
            <a class="navbar-item" href="http://localhost:59266/blog/">Home</a>
        </div>
    </nav>



    <section class="hero is-info is-medium">
        <div class="hero-body" style="background-image: url(http://localhost:59266/blog/img/bg-blog.jpg);">
            <div class="container has-text-centered">
                <br>
                <h1 class="title is-size-1">

                        Java 并发编程

                </h1>

            </div>
        </div>
    </section>


<div class="container">
    <div class="section">


<div class="columns">
    <div class="column is-9">
        <div class="tile is-child box">
            <div class="content">
                <p>这里汇总一些，Java并发编程相关的知识，推荐一些公认的写的和好的书籍。<strong>提及的知识并非原创、均附有出处链接，详情可以点击进入</strong></p>

<h1 id="java-内存模型">Java 内存模型</h1>

<p>Java内存模型(Java Mommory Model， JMM)描述了Java编程语言中的线程如何通过内存进行交互。(The Java memory model describes how threads in the Java programming language interact through memory.) <a href="https://en.wikipedia.org/wiki/Java_memory_model">jmm from wikipedia</a></p>

<p>理解Java内存模型，对于编写表现行为正确的并发行为很重要。Java内存模型指定了如何与何时可以看到由其它线程修改过后的共享变量的值，以及，在必要时，如何同步的访问共享变量。（It is very important to understand the Java memory model if you want to design correctly behaving concurrent programs. The Java memory model specifies how and when different threads can see values written to shared variables by other threads, and how to synchronize access to shared variables when necessary.）<a href="http://tutorials.jenkov.com/java-concurrency/java-memory-model.html">Java Memory Model, Jakob Jenkov</a></p>

<blockquote>
<p>JMM 屏蔽了各种硬件和操作系统的内容访问差异，让Java程序在各种平台下达到了一致的并发效果。</p>
</blockquote>

<p>推荐这本书 [深入理解Java内存模型，程晓明] 对并发讲解的通熟易懂，整体的了解下JMM。下面是摘自开篇的一段概述：</p>

<blockquote>
<p>在并发编程中，我们需要处理两个关键问题：线程之间如何通信及线程之间如何同步（这里的线程是指并发执行的活动实体）。通信是指线程之间以何种机制来交换信息。在命令式编程中，线程之间的通信机制有两种：共享内存和消息传递。</p>

<p>在共享内存的并发模型里，线程之间共享程序的公共状态，线程之间通过写-读内存中的公共状态来隐式进行通信。在消息传递的并发模型里，线程之间没有公共状态，线程之间必须通过明确的发送消息来显式进行通信。</p>

<p>同步是指程序用于控制不同线程之间操作发生相对顺序的机制。在共享内存并发模型里，同步是显式进行的。程序员必须显式指定某个方法或某段代码需要在线程之间互斥执行。在消息传递的并发模型里，由于消息的发送必须在消息的接收之前，因此同步是隐式进行的。</p>

<p>Java 的并发采用的是共享内存模型，Java 线程之间的通信总是隐式进行，整个通信过程对程序员完全透明。如果编写多线程程序的 Java 程序员不理解隐式进行的线程之间通信的工作机制，很可能会遇到各种奇怪的内存可见性问题。</p>
</blockquote>

<p>深入链接JMM之前，简单了解下硬件内存架构，对于理解JMM有很大的帮助，如一些JMM设计的来由，以及JMM如何与它进行交互等。</p>

<h2 id="计算机硬件内存架构">计算机硬件内存架构</h2>

<p>下面是一个简化的计算机内存模型图<sub><a href="http://tutorials.jenkov.com/java-concurrency/java-memory-model.html">Java Memory Model, Jakob Jenkov</a></sub></p>

<p><img src="./hardware_memory_architecture.png" alt="计算机内存模型图" /></p>

<p>现代计算机通常由2个或更多个CPU，每个CPU可以有多个核，这意味着，并行的运行多个线程时可能的。</p>

<p>每个CPU都有一些列的寄存器——CPU内存的重要组成, 并且CPU对于寄存器的访问速度远大于对‘主存’(Main Memory, RAM)的访问。</p>

<p>每个CPU都有一个CPU缓存层(CPU cache memory Layer)。CPU对于CPU混存的访问速度介于‘寄存器’和’主存’之前，比寄存器慢，但是快于‘主存’。</p>

<p>通常情况下，当一个CPU需要读取主存时，它会将主存的部分读到CPU缓存中。最后，它可能将缓存中的部分内容读到它的内部寄存器中，然后在寄存器中执行操作。当CPU需要将结果写回到主存中去时，它会将内部寄存器的值刷新到缓存中，然后在某个时间点将值刷新回主存。</p>
            </div>
        </div>
    </div>
    <div class="column is-3">
        <div class="card">
    <div class="card-content">
        <h1 class="title is-5">Tags</h1>
        <div class="tags">

            <span class="tag"><a href="http://localhost:59266/blog/tags/java">java</a></span>

            <span class="tag"><a href="http://localhost:59266/blog/tags/java-%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B">java-内存模型</a></span>

            <span class="tag"><a href="http://localhost:59266/blog/tags/%E7%90%86%E8%AE%BA%E4%B8%8E%E5%AE%9E%E8%B7%B5">理论与实践</a></span>

        </div>
    </div>
</div><br>
        <div class="card">
    <div class="card-content">
        <h1 class="title is-5">Recent posts</h1>

            <h1><a href="http://localhost:59266/blog/2020/java_concurrent_programming/">Java 并发编程</a></h1>
            <time class="has-text-grey-light is-size-7">23 March 2020</time>

    </div>
</div>
    <br>




<br>
        <div class="card">
    <div class="card-content">
        <h1 class="title is-5">Archives</h1>

            <a href="http://localhost:59266/blog/archives/2020">2020</a> (1)<br>

    </div>
</div>

    </div>
</div>


    </div>
</div>

<footer class="footer has-background-grey-darker has-text-white">
    <div class="content has-text-centered">
        <p>
            <span class="icon is-large"><a href="https://twitter.com/" class="mysocial" rel="me"><i class="fab fa-twitter fa-3x"></i></a></span>&nbsp;&nbsp;
            <span class="icon is-large"><a href="https://www.youtube.com/" class="mysocial" rel="me"><i class="fab fa-youtube fa-3x"></i></a></span>&nbsp;&nbsp;
            <span class="icon is-large"><a href="https://github.com/" class="mysocial" rel="me"><i class="fab fa-github fa-3x"></i></a></span>&nbsp;&nbsp;
            <br><br>
            Copyright &copy; FooZhi Blog 2020 - Theme by <a href="https://jeffprod.com" class="mysocial">JeffProd.com</a>
            - <a class="mysocial" href="http://localhost:59266/blog/about">About</a>
        </p>
    </div>
</footer>

<script defer src="https://use.fontawesome.com/releases/v5.1.0/js/all.js"></script>
<script data-no-instant>document.write('<script src="/livereload.js?port=59266&mindelay=10&v=2"></' + 'script>')</script></body>
</html>
